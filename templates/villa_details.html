{% extends 'base.html' %}
{% block content %}
<div class="container py-4">
    <div id="villaSlider" class="carousel slide shadow-sm" data-bs-ride="carousel" style="border-radius: 20px; overflow: hidden;">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{{ villa.Image_URL }}" class="d-block w-100" style="height: 350px; object-fit: cover;">
            </div>
            {% if villa.Image_URL_2 %}<div class="carousel-item"><img src="{{ villa.Image_URL_2 }}" class="d-block w-100" style="height: 350px; object-fit: cover;"></div>{% endif %}
            {% if villa.Image_URL_3 %}<div class="carousel-item"><img src="{{ villa.Image_URL_3 }}" class="d-block w-100" style="height: 350px; object-fit: cover;"></div>{% endif %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#villaSlider" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
        <button class="carousel-control-next" type="button" data-bs-target="#villaSlider" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
    </div>

    <div class="mt-4 px-2">
        <div class="d-flex justify-content-between align-items-center">
            <h2 class="fw-bold m-0">{{ villa.Villa_Name }}</h2>
            <div class="text-danger fw-bold small border border-danger px-2 py-1 rounded">
                Offer Ends: <span id="detail-timer">02:59:59</span>
            </div>
        </div>
        <p class="text-muted mt-2">{{ villa.Description }}</p>
        
        <div class="bg-light p-3 rounded-4 my-4">
            <h6 class="fw-bold mb-3">âœ¨ Premium Amenities</h6>
            <div class="row g-2 text-center small">
                <div class="col-4"><div class="bg-white p-2 rounded shadow-sm"><i class="bi bi-water text-primary"></i><br>Pool</div></div>
                <div class="col-4"><div class="bg-white p-2 rounded shadow-sm"><i class="bi bi-snow text-info"></i><br>AC</div></div>
                <div class="col-4"><div class="bg-white p-2 rounded shadow-sm"><i class="bi bi-wifi text-success"></i><br>WiFi</div></div>
            </div>
        </div>
        <a href="/enquiry/{{ villa.Villa_ID }}" class="btn btn-primary w-100 rounded-pill py-3 fw-bold">Check Availability & Book</a>
    </div>
</div>
<script>
    let dTime = 10800; 
    setInterval(() => {
        let h = Math.floor(dTime/3600), m = Math.floor((dTime%3600)/60), s = dTime%60;
        document.getElementById('detail-timer').innerText = `${h}h ${m}m ${s}s`;
        dTime--;
    }, 1000);
</script>
{% endblock %}
